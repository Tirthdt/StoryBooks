(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{clKO:function(n,e,t){"use strict";t.r(e),t.d(e,"AuthPagePageModule",(function(){return f}));var o=t("ofXK"),i=t("3Pt+"),s=t("TEn/"),r=t("tyNb"),a=t("mrSG");const l=new i.d({email:new i.b(null,[i.l.required,i.l.email]),password:new i.b(null,[i.l.required,i.l.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/)])});var c=t("fXoL"),d=t("lGQG"),m=t("I/3d");function b(n,e){if(1&n){const n=c.Pb();c.Ob(0,"ion-card-content"),c.Ob(1,"ion-card-header"),c.Ob(2,"ion-card-title"),c.nc(3,"Signup for Free"),c.Nb(),c.Nb(),c.Ob(4,"form",8),c.Wb("ngSubmit",(function(){return c.ic(n),c.Yb().signup()})),c.Ob(5,"div",9),c.Ob(6,"label",10),c.nc(7,"Name"),c.Nb(),c.Kb(8,"input",11),c.Nb(),c.Ob(9,"div",9),c.Ob(10,"label",12),c.nc(11,"Email"),c.Nb(),c.Kb(12,"input",13),c.Nb(),c.Ob(13,"div",9),c.Ob(14,"label",14),c.nc(15,"Password"),c.Nb(),c.Kb(16,"input",15),c.Nb(),c.Ob(17,"ion-button",16),c.nc(18," Signup "),c.Nb(),c.Nb(),c.Nb()}if(2&n){const n=c.Yb();c.yb(4),c.dc("formGroup",n.signupForm),c.yb(13),c.dc("disabled",n.email.invalid||n.name.invalid||n.password.invalid)}}function g(n,e){if(1&n){const n=c.Pb();c.Ob(0,"ion-card-content"),c.Ob(1,"ion-card-header"),c.Ob(2,"ion-card-title"),c.nc(3,"Login"),c.Nb(),c.Nb(),c.Ob(4,"form",17),c.Wb("ngSubmit",(function(){return c.ic(n),c.Yb().login()})),c.Ob(5,"div",9),c.Ob(6,"label",12),c.nc(7,"Email"),c.Nb(),c.Kb(8,"input",18),c.Nb(),c.Ob(9,"div",9),c.Ob(10,"label",14),c.nc(11,"Password"),c.Nb(),c.Kb(12,"input",15),c.Nb(),c.Ob(13,"ion-button",16),c.nc(14," Login "),c.Nb(),c.Nb(),c.Nb()}if(2&n){const n=c.Yb();c.yb(4),c.dc("formGroup",n.loginForm),c.yb(9),c.dc("disabled",n.email.invalid||n.password.invalid)}}const u=function(){return["/home"]},p=[{path:"",component:(()=>{class n{constructor(n,e,t,o,s){this.auth=n,this.loading=e,this.router=t,this.alert=o,this.db=s,this.selectedForm="signup",this.signupForm=l,this.loginForm=l,this.signupForm.addControl("name",new i.b(null,[i.l.required]))}ngOnInit(){}signup(){this.loading.create({message:"Signing Up..",cssClass:"loadingClass"}).then(n=>(n.present(),this.auth.signup(this.signupForm.value))).then(n=>{console.log(n.user.uid),this.db.collection("Users").doc(n.user.uid).set({Name:this.signupForm.value.name}),this.signupForm.reset(),this.loading.dismiss(),this.router.navigate(["feed"])}).catch(n=>{console.log(n),"auth/email-already-in-use"===n.code?(this.loading.dismiss(),this.signupForm.reset(),this.presentAlert("Email Present","The email is already in use by another account.")):(this.loading.dismiss(),this.signupForm.reset(),this.presentAlert("Unknown Error","Something went wrong. Please try after some time."))})}login(){this.loading.create({message:"Logging In..",cssClass:"loadingClass"}).then(n=>(n.present(),this.auth.login(this.loginForm.value))).then(()=>{this.loginForm.reset(),this.loading.dismiss(),this.router.navigate(["feed"])}).catch(n=>{"auth/user-not-found"===n.code?(this.loading.dismiss(),this.loginForm.reset(),this.presentAlert("User not found","There is no user found for that email. Please signup.")):"auth/wrong-password"===n.code?(this.loading.dismiss(),this.loginForm.reset(),this.presentAlert("Incorrect Password!!","The password you have entered is wrong. Please check the password and try again.")):(this.loading.dismiss(),this.loginForm.reset(),this.presentAlert("Unknown Error","Something went wrong. Please try after some time."))})}segmentChanged(n){"signup"===this.selectedForm?this.loginForm.reset():this.signupForm.reset(),this.selectedForm=n.detail.value}presentAlert(n,e){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.alert.create({header:n,message:e,cssClass:"alertClass",buttons:["OK"]});yield t.present()}))}get email(){return"signup"===this.selectedForm?this.signupForm.get("email"):this.loginForm.get("email")}get password(){return"signup"===this.selectedForm?this.signupForm.get("password"):this.loginForm.get("password")}get name(){return this.signupForm.get("name")}}return n.\u0275fac=function(e){return new(e||n)(c.Jb(d.a),c.Jb(s.L),c.Jb(r.g),c.Jb(s.a),c.Jb(m.a))},n.\u0275cmp=c.Db({type:n,selectors:[["app-auth-page"]],decls:18,vars:4,consts:[["size-md","10","offset-md","1"],["value","signup","mode","ios",3,"ionChange"],["value","signup"],["value","login"],["id","img-container"],["src","../../../../assets/cover.png","alt","heading-img"],[4,"ngIf"],["expand","block","fill","clear","shape","round",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"form-control"],["for","name"],["type","text","formControlName","name","name","name","autocomplete","name"],["for","email"],["type","email","formControlName","email","name","email","autocomplete","email"],["for","password"],["type","password","name","password","formControlName","password","autocomplete","current-password"],["type","submit",3,"disabled"],["autocomplete","off",3,"formGroup","ngSubmit"],["type","email","name","email","formControlName","email","autocomplete","email"]],template:function(n,e){1&n&&(c.Ob(0,"ion-content"),c.Ob(1,"ion-grid"),c.Ob(2,"ion-row"),c.Ob(3,"ion-col",0),c.Ob(4,"ion-segment",1),c.Wb("ionChange",(function(n){return e.segmentChanged(n)})),c.Ob(5,"ion-segment-button",2),c.Ob(6,"ion-label"),c.nc(7,"Signup"),c.Nb(),c.Nb(),c.Ob(8,"ion-segment-button",3),c.Ob(9,"ion-label"),c.nc(10,"Login"),c.Nb(),c.Nb(),c.Nb(),c.Ob(11,"ion-card"),c.Ob(12,"div",4),c.Kb(13,"img",5),c.Nb(),c.lc(14,b,19,2,"ion-card-content",6),c.lc(15,g,15,2,"ion-card-content",6),c.Nb(),c.Ob(16,"ion-button",7),c.nc(17," Back To Home Page "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&n&&(c.yb(14),c.dc("ngIf","signup"==e.selectedForm),c.yb(1),c.dc("ngIf","login"==e.selectedForm),c.yb(1),c.dc("routerLink",c.ec(3,u)))},directives:[s.m,s.n,s.y,s.l,s.z,s.P,s.A,s.s,s.g,o.j,s.e,s.O,r.h,s.h,s.i,s.k,i.m,i.j,i.e,i.a,i.i,i.c],styles:["ion-segment[_ngcontent-%COMP%]{--background:#26001b;color:#fff}ion-card[_ngcontent-%COMP%]{--background:#26001b;--color:#fff}ion-card[_ngcontent-%COMP%]   #img-container[_ngcontent-%COMP%]{max-height:50vh;width:100%;padding:.2rem}ion-card[_ngcontent-%COMP%]   #img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50vh;width:100%;-o-object-fit:contain;object-fit:contain}ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color:#fff}.form-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;width:90%;margin:0 auto;font-size:1.3rem}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:90%;background:transparent;color:#fff;font-size:1.09rem;border:none;border-bottom:3px solid #ccc;padding:.2rem;margin:0 auto 10px}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:3px solid #ccc;outline:none}ion-item[_ngcontent-%COMP%]{--background:transparent;--color:#fff}ion-button[_ngcontent-%COMP%]{display:block;width:90%;margin:0 auto;font-size:1.2rem}ion-card-title[_ngcontent-%COMP%]{--color:#fff;text-align:center;font-size:1.8rem}"]}),n})()}];let h=(()=>{class n{}return n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({factory:function(e){return new(e||n)},imports:[[r.j.forChild(p)],r.j]}),n})(),f=(()=>{class n{}return n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({factory:function(e){return new(e||n)},imports:[[o.c,i.f,s.J,h,i.k]]}),n})()}}]);