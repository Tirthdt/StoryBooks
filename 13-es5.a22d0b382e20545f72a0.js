!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{clKO:function(t,o,i){"use strict";i.r(o),i.d(o,"AuthPagePageModule",(function(){return N}));var r=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),l=i("mrSG"),u=new a.d({email:new a.b(null,[a.l.required,a.l.email]),password:new a.b(null,[a.l.required,a.l.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/)])}),m=i("fXoL"),b=i("lGQG"),d=i("I/3d");function g(n,e){if(1&n){var t=m.Pb();m.Ob(0,"ion-card-content"),m.Ob(1,"ion-card-header"),m.Ob(2,"ion-card-title"),m.nc(3,"Signup for Free"),m.Nb(),m.Nb(),m.Ob(4,"form",8),m.Wb("ngSubmit",(function(){return m.ic(t),m.Yb().signup()})),m.Ob(5,"div",9),m.Ob(6,"label",10),m.nc(7,"Name"),m.Nb(),m.Kb(8,"input",11),m.Nb(),m.Ob(9,"div",9),m.Ob(10,"label",12),m.nc(11,"Email"),m.Nb(),m.Kb(12,"input",13),m.Nb(),m.Ob(13,"div",9),m.Ob(14,"label",14),m.nc(15,"Password"),m.Nb(),m.Kb(16,"input",15),m.Nb(),m.Ob(17,"ion-button",16),m.nc(18," Signup "),m.Nb(),m.Nb(),m.Nb()}if(2&n){var o=m.Yb();m.yb(4),m.dc("formGroup",o.signupForm),m.yb(13),m.dc("disabled",o.email.invalid||o.name.invalid||o.password.invalid)}}function f(n,e){if(1&n){var t=m.Pb();m.Ob(0,"ion-card-content"),m.Ob(1,"ion-card-header"),m.Ob(2,"ion-card-title"),m.nc(3,"Login"),m.Nb(),m.Nb(),m.Ob(4,"form",17),m.Wb("ngSubmit",(function(){return m.ic(t),m.Yb().login()})),m.Ob(5,"div",9),m.Ob(6,"label",12),m.nc(7,"Email"),m.Nb(),m.Kb(8,"input",18),m.Nb(),m.Ob(9,"div",9),m.Ob(10,"label",14),m.nc(11,"Password"),m.Nb(),m.Kb(12,"input",15),m.Nb(),m.Ob(13,"ion-button",16),m.nc(14," Login "),m.Nb(),m.Nb(),m.Nb()}if(2&n){var o=m.Yb();m.yb(4),m.dc("formGroup",o.loginForm),m.yb(9),m.dc("disabled",o.email.invalid||o.password.invalid)}}var p,h,O,w=function(){return["/home"]},v=[{path:"",component:(p=function(){function t(e,o,i,r,s){n(this,t),this.auth=e,this.loading=o,this.router=i,this.alert=r,this.db=s,this.selectedForm="signup",this.signupForm=u,this.loginForm=u,this.signupForm.addControl("name",new a.b(null,[a.l.required]))}var o,i,r;return o=t,(i=[{key:"ngOnInit",value:function(){}},{key:"signup",value:function(){var n=this;this.loading.create({message:"Signing Up..",cssClass:"loadingClass"}).then((function(e){return e.present(),n.auth.signup(n.signupForm.value)})).then((function(e){console.log(e.user.uid),n.db.collection("Users").doc(e.user.uid).set({Name:n.signupForm.value.name}),n.signupForm.reset(),n.loading.dismiss(),n.router.navigate(["feed"])})).catch((function(e){console.log(e),"auth/email-already-in-use"===e.code?(n.loading.dismiss(),n.signupForm.reset(),n.presentAlert("Email Present","The email is already in use by another account.")):(n.loading.dismiss(),n.signupForm.reset(),n.presentAlert("Unknown Error","Something went wrong. Please try after some time."))}))}},{key:"login",value:function(){var n=this;this.loading.create({message:"Logging In..",cssClass:"loadingClass"}).then((function(e){return e.present(),n.auth.login(n.loginForm.value)})).then((function(){n.loginForm.reset(),n.loading.dismiss(),n.router.navigate(["feed"])})).catch((function(e){"auth/user-not-found"===e.code?(n.loading.dismiss(),n.loginForm.reset(),n.presentAlert("User not found","There is no user found for that email. Please signup.")):"auth/wrong-password"===e.code?(n.loading.dismiss(),n.loginForm.reset(),n.presentAlert("Incorrect Password!!","The password you have entered is wrong. Please check the password and try again.")):(n.loading.dismiss(),n.loginForm.reset(),n.presentAlert("Unknown Error","Something went wrong. Please try after some time."))}))}},{key:"segmentChanged",value:function(n){"signup"===this.selectedForm?this.loginForm.reset():this.signupForm.reset(),this.selectedForm=n.detail.value}},{key:"presentAlert",value:function(n,e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alert.create({header:n,message:e,cssClass:"alertClass",buttons:["OK"]});case 2:return o=t.sent,t.next=5,o.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"email",get:function(){return"signup"===this.selectedForm?this.signupForm.get("email"):this.loginForm.get("email")}},{key:"password",get:function(){return"signup"===this.selectedForm?this.signupForm.get("password"):this.loginForm.get("password")}},{key:"name",get:function(){return this.signupForm.get("name")}}])&&e(o.prototype,i),r&&e(o,r),t}(),p.\u0275fac=function(n){return new(n||p)(m.Jb(b.a),m.Jb(s.J),m.Jb(c.g),m.Jb(s.a),m.Jb(d.a))},p.\u0275cmp=m.Db({type:p,selectors:[["app-auth-page"]],decls:18,vars:4,consts:[["size-md","10","offset-md","1"],["value","signup","mode","ios",3,"ionChange"],["value","signup"],["value","login"],["id","img-container"],["src","../../../assets/cover.png","alt","heading-img"],[4,"ngIf"],["expand","block","fill","clear","shape","round",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"form-control"],["for","name"],["type","text","formControlName","name","name","name","autocomplete","name"],["for","email"],["type","email","formControlName","email","name","email","autocomplete","email"],["for","password"],["type","password","name","password","formControlName","password","autocomplete","current-password"],["type","submit",3,"disabled"],["autocomplete","off",3,"formGroup","ngSubmit"],["type","email","name","email","formControlName","email","autocomplete","email"]],template:function(n,e){1&n&&(m.Ob(0,"ion-content"),m.Ob(1,"ion-grid"),m.Ob(2,"ion-row"),m.Ob(3,"ion-col",0),m.Ob(4,"ion-segment",1),m.Wb("ionChange",(function(n){return e.segmentChanged(n)})),m.Ob(5,"ion-segment-button",2),m.Ob(6,"ion-label"),m.nc(7,"Signup"),m.Nb(),m.Nb(),m.Ob(8,"ion-segment-button",3),m.Ob(9,"ion-label"),m.nc(10,"Login"),m.Nb(),m.Nb(),m.Nb(),m.Ob(11,"ion-card"),m.Ob(12,"div",4),m.Kb(13,"img",5),m.Nb(),m.lc(14,g,19,2,"ion-card-content",6),m.lc(15,f,15,2,"ion-card-content",6),m.Nb(),m.Ob(16,"ion-button",7),m.nc(17," Back To Home Page "),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb()),2&n&&(m.yb(14),m.dc("ngIf","signup"==e.selectedForm),m.yb(1),m.dc("ngIf","login"==e.selectedForm),m.yb(1),m.dc("routerLink",m.ec(3,w)))},directives:[s.m,s.n,s.y,s.l,s.z,s.N,s.A,s.s,s.g,r.j,s.e,s.M,c.h,s.h,s.i,s.k,a.m,a.j,a.e,a.a,a.i,a.c],styles:["ion-segment[_ngcontent-%COMP%]{--background:#26001b;color:#fff}ion-card[_ngcontent-%COMP%]{--background:#26001b;--color:#fff}ion-card[_ngcontent-%COMP%]   #img-container[_ngcontent-%COMP%]{max-height:50vh;width:100%;padding:.2rem}ion-card[_ngcontent-%COMP%]   #img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50vh;width:100%;-o-object-fit:contain;object-fit:contain}ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color:#fff}.form-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;width:90%;margin:0 auto;font-size:1.3rem}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:90%;background:transparent;color:#fff;font-size:1.09rem;border:none;border-bottom:3px solid #ccc;padding:.2rem;margin:0 auto 10px}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:3px solid #ccc;outline:none}ion-item[_ngcontent-%COMP%]{--background:transparent;--color:#fff}ion-button[_ngcontent-%COMP%]{display:block;width:90%;margin:0 auto;font-size:1.2rem}ion-card-title[_ngcontent-%COMP%]{--color:#fff;text-align:center;font-size:1.8rem}"]}),p)}],y=((O=function e(){n(this,e)}).\u0275mod=m.Hb({type:O}),O.\u0275inj=m.Gb({factory:function(n){return new(n||O)},imports:[[c.j.forChild(v)],c.j]}),O),N=((h=function e(){n(this,e)}).\u0275mod=m.Hb({type:h}),h.\u0275inj=m.Gb({factory:function(n){return new(n||h)},imports:[[r.c,a.f,s.H,y,a.k]]}),h)}}])}();